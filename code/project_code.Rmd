---
title: "Final Project Code"
author: "Samuel Leung"
output: pdf_document
date: "`r Sys.Date()`"
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE, warning=FALSE, message=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r Load Libraries}
source("lp_optimize.R")
```

```{r Project setup with rocket example}
# WE START EZ FIRST
n <- 3
realizations <- 0:n/n
prior_probabilities <- realizations * (1-realizations)

posterior_calc <- function(prior, realizations, successes = 1, n_obs = 1) {
  joint <- prior * dbinom(x = successes, size = n_obs, p = realizations)
  return(joint / sum(joint))
}

posteriors <- posterior_calc(prior = prior_probabilities,
                             realizations = realizations)
```

```{r distance functions}
absolute_dist <- function(from, to) return(abs(to - from))
```

```{r one run of linOp}
sol = lp_optimize(posteriors = posteriors, 
            realizations = realizations, 
            dist = absolute_dist)
matrix(sol$solution, nrow=length(posteriors), byrow = TRUE)
```

#### NEXT STEPS 
- sample from chosen distribution
- re-compute posteriors
- go through linear optimization again
